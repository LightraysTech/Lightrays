@layer lr-components {

  :where(.lr-list > div,
    .lr-box,
    button,
    input,
    select,
    textarea) {
    background-color: var(--component-background);
    border-radius: 4px;
    padding: 16px;

    --underline: 0 var(--underline-width, 2px) 0 0 var(--underline-color, transparent);

    &,
    .shadow-components > &,
    &.shadow.shadow {
      box-shadow: var(--underline), var(--shadow-1);
      border: none;

      --hover-shadow: var(--shadow-2);
      --hover-background: var(--component-hover);

      --active-shadow: var(--shadow-0);
      --active-background: var(--component-active);

      --underline-width: 2px;
    }

    & &,
    &:where(:disabled),
    .flat-components > &,
    &.flat.flat {
      box-shadow: var(--underline);
      border: var(--component-stroke);
      border-bottom-color: var(--underline-color, var(--component-stroke-color));

      --hover-shadow: var(--shadow-0);

      --underline-width: 1px;
    }

    &:where(:not(:disabled)[type="submit"]),
    .important-components > &,
    &.important.important {
      background-color: var(--primary);
      color: var(--accent-text-color);

      --hover-background: var(--light);
      --active-background: var(--dark);
    }

    &.transparent.transparent {
      background-color: transparent;
      border: none;
      box-shadow: none;

      --hover-shadow: none;
      --hover-background: transparent;

      --active-shadow: none;
      --active-background: transparent;
    }

    &.subtle {
      background-color: transparent;
      box-shadow: none;
      border: none;
      --hover-shadow: none;
      --active-shadow: none;
      --hover-color: var(--primary);
      --active-color: var(--dark);
    }


    .small-components > &,
    &.small.small {
      padding: 8px;
    }

    &:where(button, input, select, textarea),
    .inline-components > &,
    &.inline {
      display: inline-block;
      padding: 8px 16px;

      .small-components > :where(&),
      &.small.small {
        padding: 4px 8px;
      }
    }

    &:where(:not(:disabled)):where([type="reset"], [type="button"], [type="submit"]),
    &:where(button, select):where(:not(:disabled)),
    .interactive-components > &,
    &.interactive.interactive {
      cursor: pointer;
      transition: background-color, color, box-shadow, border;
      transition-duration: 0.2s;
      transition-timing-function: var(--curve-ease);


      &:where(:hover) {
        color: var(--hover-color);
        box-shadow: var(--hover-shadow);
        background-color: var(--hover-background);
      }

      &:where(:active) {
        color: var(--active-color);
        box-shadow: var(--active-shadow);
        background-color: var(--active-background);
      }
    }
  }

  .lr-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin: 8px 0;

    & > div {
      animation: box-load-in 0.2s ease-out both;
      animation-delay: calc(0.03s * var(--i));

      &:nth-child(0) {
        --i: 0
      }

      &:nth-child(1) {
        --i: 1
      }

      &:nth-child(2) {
        --i: 2
      }

      &:nth-child(3) {
        --i: 3
      }

      &:nth-child(4) {
        --i: 4
      }

      &:nth-child(5) {
        --i: 5
      }

      &:nth-child(6) {
        --i: 6
      }

      &:nth-child(7) {
        --i: 7
      }

      &:nth-child(8) {
        --i: 8
      }

      &:nth-child(9) {
        --i: 9
      }

      &:nth-child(10) {
        --i: 10
      }

      &:nth-child(11) {
        --i: 11
      }

      &:nth-child(12) {
        --i: 12
      }

      &:nth-child(13) {
        --i: 13
      }

      &:nth-child(14) {
        --i: 14
      }

      &:nth-child(15) {
        --i: 15
      }
    }
  }

  button,
  input,
  select,
  textarea {
    font-family: var(--component-font);
    color: var(--text-color);
  }

  :not(:disabled):where([type="reset"], [type="button"], [type="submit"]),
  button,
  select {
    text-align: center;

    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;

    &:has(.fluentIcon:only-child) {
      padding: 8px;
    }

    & > .fluentIcon:only-child {
      height: 1lh;
      width: 1lh;
    }

    &.small,
    .small-components > & {
      gap: 4px;

      &:has(.fluentIcon:only-child) {
        padding: 4px;
      }
    }

  }


  select,
  select:hover {
    -webkit-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16' fill='%23fff'%3E%3Cpath d='M3.20041 5.73966C3.48226 5.43613 3.95681 5.41856 4.26034 5.70041L8 9.22652L11.7397 5.70041C12.0432 5.41856 12.5177 5.43613 12.7996 5.73966C13.0815 6.0432 13.0639 6.51775 12.7603 6.7996L8.51034 10.7996C8.22258 11.0668 7.77743 11.0668 7.48967 10.7996L3.23966 6.7996C2.93613 6.51775 2.91856 6.0432 3.20041 5.73966Z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: calc(100% - 16px) center;
    padding-right: 40px;

    .small-components > &,
    &.small.small {
      padding-right: 32px;
      background-position: calc(100% - 8px) center;
    }
  }

  @media (prefers-color-scheme: light) {
    select {
      background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16' %3E%3Cpath d='M3.20041 5.73966C3.48226 5.43613 3.95681 5.41856 4.26034 5.70041L8 9.22652L11.7397 5.70041C12.0432 5.41856 12.5177 5.43613 12.7996 5.73966C13.0815 6.0432 13.0639 6.51775 12.7603 6.7996L8.51034 10.7996C8.22258 11.0668 7.77743 11.0668 7.48967 10.7996L3.23966 6.7996C2.93613 6.51775 2.91856 6.0432 3.20041 5.73966Z'/%3E%3C/svg%3E");
    }
  }

  :has([theme=light]) select {
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16' %3E%3Cpath d='M3.20041 5.73966C3.48226 5.43613 3.95681 5.41856 4.26034 5.70041L8 9.22652L11.7397 5.70041C12.0432 5.41856 12.5177 5.43613 12.7996 5.73966C13.0815 6.0432 13.0639 6.51775 12.7603 6.7996L8.51034 10.7996C8.22258 11.0668 7.77743 11.0668 7.48967 10.7996L3.23966 6.7996C2.93613 6.51775 2.91856 6.0432 3.20041 5.73966Z'/%3E%3C/svg%3E");
  }

  :disabled {
    color: var(--subtle-text-color);
    background-color: var(--component-disabled);
  }

  input {

    &:not(:where([type=reset], [type=button], [type=submit], [type=checkbox])) {

      &:focus {
        --underline-color: var(--primary);

        &:user-invalid {
          --underline-color: var(--alert);
        }
      }

    }


    &[type="color"] {
      padding: 0;
      border-radius: 0;
      background-color: var(--component-background);
    }

    &[type="search"] {
      background-image: url("./img/search.png");
      background-size: 15px;
      padding-left: 36px;
      background-position-x: 12px;
      background-position-y: center;
      background-repeat: no-repeat;

      &:focus {
        background-size: 18px;
        background-position-x: 11px;
        transition: background .2s var(--curve-ease);
      }
    }

    &[type=checkbox] {
      align-self: center;
      -webkit-appearance: none;
      appearance: none;
      border-radius: 6px;
      width: 24px;
      height: 24px;
      vertical-align: bottom;
      padding: 0;
      margin: 0;
      cursor: pointer;

      &:checked {
        background: url("./img/checkbox.png") no-repeat center center;
        background-size: 13px;
        background-color: var(--primary);
        border-color: var(--primary) !important;
      }

      &.small {
        height: 18px;
        width: 18px;
        border-radius: 4px;
        vertical-align: text-bottom;
        background-size: 9px;
      }
    }

    &[type="range"] {
      /* -webkit-appearance: none; appearance: none; */
      height: 0px;
      background-color: var(--color-darker);
      outline: none;
      /*  Remove outline  */
      -webkit-transition: .1s;
      transition: all .1s;
      padding-left: 0;
      padding-right: 0;
      border: none !important;
      outline: none !important;
      box-shadow: none;

      &:focus {
        box-shadow: none;
      }
    }
  }
}

label {
  display: inline-block;
  margin: 4px 0;
  font-size: 1em;
  font-weight: 600;

  &.left {
    margin: 0;
    margin-right: 8px;
  }

  &.right {
    margin: 0;
    margin-left: 8px;
  }


  &.disabled {
    color: var(--subtle-text-color);
  }

  &[for] {
    cursor: pointer
  }

  .small,
  .small-components > & {
    /* // TODO label.small*/
  }
}